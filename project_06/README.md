# Golang 实现微服务限流器与断路器

## 项目介绍

> 1.限流器的实现并集成到gin
> 
> 2.断路器的实现并集成到gin
> 


### 限流器

> 1.对某个接口单位时间内的访问量的限制作用
> 
> 2.拒绝超过服务器承载能力的请求
> 
> 

### 限流器实现逻辑

> 1.创建一个固定大小的令牌桶
> 
> 2.按一定速率对桶里面的令牌进行补充
> 
> 3.每进行一次请求，就从桶里面取出一个令牌
> 
> 4.令牌桶最多补充到桶的大小
> 

### 断路器

> 1.当服务连续报错，超过一定阀值，断路器打开使得服务不可用
> 
> 2.防止在服务不可用的情况下造成雪崩
> 
> 
### 断路器实现逻辑

> 1.时间周期（单位时间），记录连续成功次数和连续失败次数
> 
> 2.判断单位时间内连续成功次数或连续失败次数是否超过阀值
> 
> 3.失败次数超过阀值，断路器由闭合状态变为打开状态，下一个单位时间内，服务不可用
> 
> 4.当打开状态持续一个单位时间，断路器由打开状态变为半开状态，有限制的访问服务
> 
> 5.半开状态下，连续成功次数超过阀值，断路器由半开状态变为闭合状态，服务恢复正常